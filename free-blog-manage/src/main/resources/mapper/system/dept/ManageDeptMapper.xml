<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.blog.core.system.dept.dao.ManageDeptMapper">

    <select id="selectManageDeptByUserId" parameterType="java.lang.String"
            resultType="com.blog.core.system.dept.dto.MangeDeptTree">
        SELECT
            dept_id deptId,
            dept_name deptName,
            parent_id parentId
        FROM
            manage_dept
    </select>

    <update id="updateManageDept" parameterType="com.blog.core.system.dept.entity.ManageDept">
        UPDATE manage_dept
        SET
            dept_name = #{deptName},
            update_id = #{updateId},
            update_time = #{updateTime}
        WHERE dept_id = #{depteId}
    </update>

    <insert id="insertManageDept" parameterType="com.blog.core.system.dept.entity.ManageDept">
        INSERT INTO manage_dept
        (dept_id,
        dept_name,
        parent_id,
        enable,
        create_id,
        create_time
        )
        VALUES
        (#{deptId},
        #{deptName},
        #{parentId},
        #{enable.value},
        #{createId},
        #{createTime})
    </insert>
</mapper>
